import numpy as np
import pandas as pd
import streamlit as st
import utils

st.title('Hello World Streamlit App')

st.write('Welcome to your Streamlit application!')

# Add some interactive elements
name = st.text_input("What's your name?")
if name:
    st.write(f'Hello, {name}!')

# Add a simple chart
chart_data = pd.DataFrame(np.random.randn(20, 3), columns=['a', 'b', 'c'])

st.line_chart(chart_data)

# Add a button
if st.button('Click me!'):
    st.write('Button clicked!')
    st.balloons()

available_connections = utils.list_snowflake_connections()
if available_connections:
    first_connection = available_connections[0]
    try:
        snowflake_conn = utils.get_snowflake_conn(connection_name=first_connection)
        if snowflake_conn:
            with snowflake_conn.cursor() as cur:
                cur.execute("SELECT 1")
                if cur.fetchone():
                    st.success(f"Snowflake connection '{first_connection}' is active.")
    except Exception:
        pass
