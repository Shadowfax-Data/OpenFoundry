import numpy as np
import pandas as pd
import streamlit as st
import utils

st.title('Hello World Streamlit App')

st.write('Welcome to your Streamlit application!')

# Add some interactive elements
name = st.text_input("What's your name?")
if name:
    st.write(f'Hello, {name}!')

# Add a simple chart
chart_data = pd.DataFrame(np.random.randn(20, 3), columns=['a', 'b', 'c'])

st.line_chart(chart_data)

# Add a button
if st.button('Click me!'):
    st.write('Button clicked!')
    st.balloons()

{% if 'snowflake' in available_connection_types %}
st.subheader("Snowflake Connection")
with st.spinner("Connecting to Snowflake..."):
    snowflake_conn = utils.get_snowflake_conn()
    if snowflake_conn:
        try:
            with snowflake_conn.cursor() as cur:
                cur.execute("SELECT 1")
                one_row = cur.fetchone()
                if one_row:
                    st.success("Snowflake connection successful.")
                else:
                    st.error("Snowflake connection failed.")
        except Exception as e:
            st.error(f"Snowflake connection failed: {e}")
    else:
        st.error("Failed to create Snowflake connection object.")
{% endif %}
